
<!doctype html>
<html class="h-100" lang="en">

  <head>
      <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
  <meta name="description" content="A well made and handcrafted Bootstrap 5 template">
  <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="96x96" href="img/favicon.png">
  <meta name="author" content="Holger Koenemann">
  <meta name="generator" content="Eleventy v2.0.0">
  <meta name="HandheldFriendly" content="true">
  <title>DataViz/Assignment01</title>
  <link rel="stylesheet" href="css/theme.min.css">

   <style>

/* inter-300 - latin */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 300;
  font-display: swap;
  src: local(''),
       url('fonts/inter-v12-latin-300.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
       url('fonts/inter-v12-latin-300.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
}

/* inter-400 - latin */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local(''),
       url('fonts/inter-v12-latin-regular.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
       url('fonts/inter-v12-latin-regular.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: local(''),
       url('fonts/inter-v12-latin-500.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
       url('fonts/inter-v12-latin-500.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
}
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local(''),
       url('fonts/inter-v12-latin-700.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
       url('fonts/inter-v12-latin-700.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
}

</style>


  </head>

  <body class="bg-black text-white mt-0" data-bs-spy="scroll" data-bs-target="#navScroll">

    <nav id="navScroll" class="navbar navbar-dark bg-black fixed-top px-vw-5" tabindex="0">
  <div class="container">
    <a class="navbar-brand pe-md-4 fs-4 col-12 col-md-auto text-center" href="index.html">
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-stack" viewBox="0 0 16 16">
    <path d="m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.598.598 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.598.598 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.598.598 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535L7.733.063z"/>
    <path d="m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.598.598 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.659z"/>
  </svg>
  <span class="ms-md-1 mt-1 fw-bolder me-md-5">DataViz</span>
</a>

</li>

    </ul>
    
        <small>Assignment 01</small>
      </a>
</div>
</nav>

    <main>
      <div class="w-100 overflow-hidden position-relative bg-black text-white" data-aos="fade">
  <div class="position-absolute w-100 h-100 bg-black opacity-75 top-0 start-0"></div>
  <div class="container py-vh-4 position-relative mt-5 px-vw-5 text-center">
  <div class="row d-flex align-items-center justify-content-center py-vh-5">
    <div class="col-12 col-xl-10">
      <span class="h5 text-secondary fw-lighter"><br>Live Readings of Singapore's</span>
      <h1 class="display-huge mt-3 mb-3 lh-1" style="font-size: 48px;"> Pollutant Standards Index </h1>
    </div>
    <div class="col-12 col-xl-4">
      <p class="lead text-secondary" style="font-size: 24px;">Pollutant Standards Index (PSI) is a national index for reporting daily air quality. 
        It is calculated based on the 3-hourly Pollutant Standards Index (PSI) readings at the National Environment Agency (NEA)’s network of ambient air quality stations. 
        The PSI readings are based on the 8 major air pollutants regulated under the National Environment Agency (Clean Air) Regulations. <br> <br>
        <span class="h5 text-secondary fw-lighter" style="font-size: 16px;">Source: https://api.data.gov.sg/v1/environment/psi</span> <br>
        <span class="h5 text-secondary fw-lighter" style="font-size: 16px;">Last updated on <span id="timestring"> tttt </span> (updated hourly)</span> <br>
      
      </p>
    </div>
  </div>
</div>

</div>


<div class="bg-dark">
  <div class="container px-vw-5 py-vh-5">
    <div class="row d-flex align-items-center">
      <div class="col-12 col-lg-12 text-center" data-aos="fade-left">
        <span><img src="https://www.nea.gov.sg/images/default-source/contact-us/myenv2_android_icon.png" alt="NEA Singapore" width="100" height="100"/> <br>Singapore's PSI Readings <br> <br>
          ——————————————————————————————————————————
          <h2 class="display-4" style="font-size: 32px;">
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
          <a align="center" href="https://data.gov.sg/dataset/psi"></a>
        </h2>
        <h2 id="datetimetext"></h2>
        <table id="PSItable" class="mx-auto">
          <tbody>
            <tr>
              <th style="padding: 20px;">Metrics</th>
              <th style="padding: 20px;">National</th>
              <th style="padding: 20px;">Central</th>
              <th style="padding: 20px;">West</th>
              <th style="padding: 20px;">East</th>
              <th style="padding: 20px;">North</th>
              <th style="padding: 20px;">South</th>
            </tr>
          </tbody>
        </table>
        ——————————————————————————————————————————

      </div>
    </div>
  </div>
</div>

        <script>
          
  
          /* to make a function that adds data to tables*/
          var tableadd = (datapt, rownum) => {
              var td = document.createElement('td')
              td.textContent = datapt
              rownum.appendChild(td)
          }
  
          fetch('https://api.data.gov.sg/v1/environment/psi')
              .then(response => response.json())
              .then(data => {
                  /* to get readings*/
                  var table = document.querySelector('#PSItable')
                  var read = data.items[0].readings
                  let timestamp = data.items[0].update_timestamp;
                  $("#timestring").text(timestamp);
  
                  /* for loop to put in rows in table*/
                  for (var data in read) {
                      var trow = document.createElement('tr')
                      table.appendChild(trow)
  
                      tableadd(data, trow)
  
                      for (var field of ['national', 'central', 'west', 'east', 'north', 'south'])
                          tableadd(read[data][field], trow)
                  }
  
  
              });
      </script>

      </div>

  
    </div>
  </div>
</div>

    </main>


    <footer class="bg-black border-top border-dark">
  <div class="container py-vh-4 text-secondary fw-lighter">
    <div class="row">
      <div class=" text-center text-center">
  <span class="ms-md-1 mt-1 fw-bolder me-md-5" style="font-size: 18px;">Moses Rux Jeba Mi Zerah <br></span>
  <span class="ms-md-1 mt-1 fw-bolder me-md-5" style="font-size: 12px;">  1008357 / MUSPP </span>                                           
  </span>
</a>







<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/aos.js"></script>
<script>
AOS.init({
 duration: 800, // values from 0 to 3000, with step 50ms
});
</script>
<script>
  let scrollpos = window.scrollY
  const header = document.querySelector(".navbar")
  const header_height = header.offsetHeight

  const add_class_on_scroll = () => header.classList.add("scrolled", "shadow-sm")
  const remove_class_on_scroll = () => header.classList.remove("scrolled", "shadow-sm")

  window.addEventListener('scroll', function() {
    scrollpos = window.scrollY;

    if (scrollpos >= header_height) { add_class_on_scroll() }
    else { remove_class_on_scroll() }

    console.log(scrollpos)
  })
</script>

  </body>
</html>
